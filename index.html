<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Bineos Test</title>
    <script src="classes/Bineos.js"></script>
    <script src="classes/BineosTemplate.js"></script>
    <script src="classes/BineosPlacement.js"></script>
  </head>
  <body>
    <bineos-zone uid="tsmo807r2e0c" extvar-type="1"></bineos-zone>
    <bineos-zone uid="tsmo807r2e0c" extvar-type="2"></bineos-zone>
    <bineos-zone uid="tsmo807r2e0c" extvar-type="3"></bineos-zone>

    <script type="text/bineos-template" id="bineos-test">
      {{#each productLoop}}
        <h3>{{this.headline}}</h3>
        <img src="{{this.imageSmall}}">
        <p>{{this.teaser}}</p>
        <a href="{{this.clickurl}}">mehr ...</a>
      {{/each}}
    </script>

    <script>
      (() => {
        const bineos = new Bineos("4b049c71c1", "dl.ndz.de");

        bineos.dataLayer.touchpoint = "startpage";

        bineos.extVar.touchpoint = "startpage";

        bineos.on("loadPlacement", (placement) => {
          if (placement.zoneUid === "tsmo807r2e0c" && placement.extVar.type === "3") {
            placement.templateId = "bineos-test";
          }
        });

        bineos.loadCSS("style.css");

        bineos.init();
      })();
    </script>
  </body>
</html>
